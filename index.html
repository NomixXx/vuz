<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>üéì –†–µ–π—Ç–∏–Ω–≥ –≤—É–∑–æ–≤ –ù–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫–∞</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<header>
    <h1>üéì –†–µ–π—Ç–∏–Ω–≥ –≤—É–∑–æ–≤ –ù–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫–∞</h1>
    <p>–í—ã–±–µ—Ä–∏ –ª—É—á—à–µ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –≥–æ—Ä–æ–¥–µ!</p>
</header>
<nav>
    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="rating.html">–†–µ–π—Ç–∏–Ω–≥</a>
    <a href="universities.html">–í—É–∑—ã</a>
    <a href="reviews.html">–û—Ç–∑—ã–≤—ã</a>
    <a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
</nav>
<main class="container">
    <h2>üèÜ –¢–û–ü-1 –í–£–ó –ø–æ –æ—Ç–∑—ã–≤–∞–º —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</h2>
    <div id="top-university" class="university-card">
        <!-- –°—é–¥–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ø–æ–≤—ã–π –≤—É–∑ -->
        <p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Å—Ç–∞–≤—å—Ç–µ –æ—Ç–∑—ã–≤.</p>
    </div>

    <h2>üí° –ü–æ—á–µ–º—É —Å—Ç–æ–∏—Ç –≤—ã–±—Ä–∞—Ç—å —ç—Ç–æ—Ç —Å–∞–π—Ç?</h2>
    <ul>
        <li>–û–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ–π—Ç–∏–Ω–≥–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</li>
        <li>–û—Ç–∑—ã–≤—ã –æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –≤—ã–ø—É—Å–∫–Ω–∏–∫–æ–≤</li>
        <li>–ü–æ–¥–±–æ—Ä —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π –ø–æ–¥ —Ç–≤–æ–∏ –∏–Ω—Ç–µ—Ä–µ—Å—ã</li>
        <li>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ –≤—É–∑–æ–≤ –≥–æ—Ä–æ–¥–∞</li>
    </ul>

    <h2>üì¨ –û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –∏–ª–∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–¥–µ—é</h2>
    <p>–ï—Å–ª–∏ –≤—ã —Å—Ç—É–¥–µ–Ω—Ç, –≤—ã–ø—É—Å–∫–Ω–∏–∫ –∏–ª–∏ —Ä–æ–¥–∏—Ç–µ–ª—å ‚Äî –º—ã —Ü–µ–Ω–∏–º –≤–∞—à–µ –º–Ω–µ–Ω–∏–µ!</p>
    <a href="reviews.html"><button>–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button></a>
</main>
<footer>
    &copy; 2025 ‚Äî –†–µ–π—Ç–∏–Ω–≥ –≤—É–∑–æ–≤ –ù–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫–∞ | –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã
</footer>

<script>
    function calculateTopUniversity() {
        const reviews = JSON.parse(localStorage.getItem("universityRatings")) || [];
        const ratings = {};

        // –ü–æ–¥—Å—á—ë—Ç —Å—É–º–º—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Ü–µ–Ω–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—É–∑–∞
        reviews.forEach(review => {
            const univ = review.university;
            const score = parseFloat(review.rating);
            if (!ratings[univ]) {
                ratings[univ] = { total: 0, count: 0 };
            }
            ratings[univ].total += score;
            ratings[univ].count += 1;
        });

        // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
        const sorted = Object.keys(ratings)
            .map(name => ({
                name,
                avg: (ratings[name].total / ratings[name].count).toFixed(2)
            }))
            .sort((a, b) => b.avg - a.avg);

        // –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
        const container = document.getElementById("top-university");
        if (sorted.length > 0) {
            const top = sorted[0];
            container.innerHTML = `
                <h3>ü•á ${top.name}</h3>
                <p>–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞: ‚≠ê ${top.avg}</p>
                <p>–õ—É—á—à–∏–π –≤—ã–±–æ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–∑—ã–≤–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.</p>
            `;
        } else {
            container.innerHTML = `<p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Å—Ç–∞–≤—å—Ç–µ –æ—Ç–∑—ã–≤.</p>`;
        }
    }

    window.onload = calculateTopUniversity;
</script>
</body>
</html>
